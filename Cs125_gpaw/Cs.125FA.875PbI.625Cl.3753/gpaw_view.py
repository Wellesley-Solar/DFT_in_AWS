# import os, sys
# currentdir = os.path.dirname(os.path.realpath(__file__))
# print(currentdir)
# parentdir = os.path.dirname(currentdir)
# print(parentdir)
# parentdir = os.path.dirname(parentdir)
# print(parentdir)
# sys.path.append(parentdir)

# from utilsDFT import *

# myGpaw = sqs2QE(False)
# myGpaw.load_sqs("./")#Cs.25FA.75PbI3")
# myGpaw.writeGPAW()

# print(myGpaw.gcell)
# print(myGpaw.pos)

from gpaw import restart
from ase.parallel import paropen as open
from ase.optimize import QuasiNewton
from gpaw import GPAW, FermiDirac, PW
from ase import Atoms
from ase.visualize import view


pos=[[  9.191800,  9.636923, 9.188875],
  [  9.196473,  3.533784, 9.194627],
  [  3.060930,  3.533473, 9.194684],
  [  9.186740,  9.622823, 3.068095],
  [  3.069450,  9.622126, 3.063788],
  [  9.193527,  3.539466, 3.062396],
  [  3.063058,  3.539438, 3.062377],
  [  6.089147,  9.185863,-0.021080],
  [  6.098623,  9.194886, 6.149050],
  [  3.070938, -0.020325,-0.009452],
  [  9.177498,  6.136241, 0.010434],
  [  3.081620,  6.155589,-0.000483],
  [  9.188039, -0.000431, 6.123568],
  [  6.135881,  6.083239, 9.208212],
  [  0.000855,  6.079256, 3.056821],
  [  6.127586,  6.087477, 3.049803],
  [  3.093197,  9.175118, 9.214505],
  [  9.176635, 10.712146, 9.187463],
  [ 11.197711,  9.582055, 9.191881],
  [ 10.480696,  8.005864, 9.196479],
  [  7.882356,  8.004454, 9.196044],
  [  7.168227,  9.568210, 9.192069],
  [  9.194162,  4.592003, 9.201289],
  [ 11.193696,  3.472642, 9.194476],
  [ 10.479364,  1.878398, 9.191597],
  [  7.897795,  1.890023, 9.191604],
  [  7.184603,  3.480365, 9.194293],
  [  3.062812,  4.592968, 9.201489],
  [  5.072839,  3.479237, 9.194843],
  [  4.358223,  1.889896, 9.190948],
  [  1.779597,  1.877988, 9.190763],
  [  1.064040,  3.471666, 9.194953],
  [  9.190479, 10.696247, 3.069526],
  [ 11.187360,  9.586866, 3.065172],
  [ 10.494734,  7.994079, 3.061520],
  [  7.881950,  7.996689, 3.061457],
  [  7.191486,  9.584135, 3.065020],
  [  3.066870, 10.696130, 3.059146],
  [  5.066172,  9.584232, 3.064153],
  [  4.376067,  7.996267, 3.063862],
  [  1.762154,  7.994088, 3.063524],
  [  1.071070,  9.586475, 3.063835],
  [  9.190538,  4.600406, 3.056130],
  [ 11.199257,  3.475731, 3.062870],
  [ 10.482127,  1.889722, 3.065439],
  [  7.904727,  1.890825, 3.065579],
  [  7.185023,  3.478871, 3.062872],
  [  3.066680,  4.599935, 3.055882],
  [  5.072247,  3.478928, 3.062255],
  [  4.353486,  1.890777, 3.066287],
  [  1.774015,  1.889579, 3.066317],
  [  1.057763,  3.475817, 3.062286],
  [  0.047527,  9.182213,-0.040055],
  [  0.007924,  3.073713, 0.011173],
  [  6.118925,  3.088354, 0.003637],
  [  0.035867,  9.193365, 6.168743],
  [ -0.003714,  3.061683, 6.117671],
  [  6.134883,  3.067829, 6.124827],
  [  9.183794,  0.003028, 0.004385],
  [  3.075475, -0.012542, 6.140312],
  [  9.182792,  6.146963, 6.117930],
  [  3.077011,  6.155075, 6.123567],
  [  0.015807, -0.125865, 9.193506],
  [  6.111154, -0.136828, 9.193631],
  [  0.046388,  6.066057, 9.206407],
  [  0.001765, -0.123961, 3.064316],
  [  6.126421, -0.131158, 3.064261],
  [ 10.328623,  9.039051, 9.188148],
  [  8.003225,  9.010749, 9.187637],
  [ 10.331483,  2.921045, 9.188015],
  [  8.040919,  2.924017, 9.188134],
  [  4.216137,  2.924234, 9.191171],
  [  1.926051,  2.920777, 9.191326],
  [ 10.348973,  9.004862, 3.068611],
  [  8.017668,  8.999912, 3.069545],
  [  4.239690,  9.000282, 3.066723],
  [  1.909680,  9.005786, 3.065967],
  [ 10.335150,  2.925216, 3.069072],
  [  8.046780,  2.925585, 3.068956],
  [  4.210837,  2.925629, 3.066014],
  [  1.922285,  2.925549, 3.065980],
  [  0.176919,  0.007307,-0.011959],
  [  5.957617, -0.170536,-0.011967],
  [ -0.009509,  6.122822, 0.148112],
  [  6.137971,  6.288674,-0.022960],
  [ -0.196496,  0.005483, 6.140950],
  [  6.319910, -0.171955, 6.141120],
  [ -0.008514,  6.125354, 5.974772],
  [  6.136969,  6.300209, 6.151231]]

atoms = Atoms(symbols="C7Cl9Cs1H35I15N14Pb8",
             pbc=[ True,  True,  True],
             cell=[[12.257188, 0.000000, 0.000000],
                  [0.000000, 12.257188, 0.000000],
                  [0.000000, 0.000000,12.257188]],
             positions=pos
                    )
view(atoms)